# ============================================================
# Whisk Desktop ‚Äî Docker Compose for Windows Nuitka build
# ============================================================
# Usage:
#   docker compose -f scripts/docker-compose.nuitka.yml up --build
#
# Output:
#   dist/Veo3DeskTop/Veo3DeskTop.exe (native compiled)
# ============================================================

services:
  build-win-nuitka:
    build:
      context: ..
      dockerfile: scripts/Dockerfile.win.nuitka
    platform: linux/amd64
    volumes:
      - ../dist:/output
    environment:
      - WINEDEBUG=-all
    command: >
      bash -c "
        echo '‚úÖ Copying Nuitka output...' &&
        cp -r /src/dist/main.dist /output/Veo3DeskTop &&
        echo '========================================' &&
        echo ' Output: dist/Veo3DeskTop/Veo3DeskTop.exe' &&
        echo ' üõ°Ô∏è  Native compiled (anti-decompile)' &&
        echo '========================================'
      "
